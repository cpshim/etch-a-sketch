<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" type="text/css" href="style.css">
        <title>Etch-A-Sketch</title>
    </head>
    <body>
        <h1>Etch-A-Sketch!</h1>
    </body>
    <script>
        function createGrid(num){
            for (i = 0; i < num*num; i++){
                const box = document.createElement('div');
                box.classList.add('box');
                box.addEventListener('mouseover', (e) => {
                    box.classList.add('coloured');
                    if (colour){
                        red = Math.random()*256;
                        green = Math.random()*256;
                        blue = Math.random()*256;
                        box.setAttribute('style', 
                            `background: rgb(${red}, ${green}, ${blue})`);
                    }
                })
                container.appendChild(box);
            }
            container.setAttribute('style', 
                `grid-template-columns: repeat(${num}, auto);`)
        }

        function deleteGrid(){
            while (container.firstChild){
                container.removeChild(container.lastChild);
            }
        }

        let colour = false;

        const body = document.querySelector('body');

        const container = document.createElement('div');
        container.classList.add('container');

        createGrid(16);

        body.appendChild(container);

        const buttonContainer = document.createElement('div');
        buttonContainer.classList.add('buttonContainer');

        const button = document.createElement('button');
        button.classList.add('reset');
        button.textContent = "Reset";
        button.addEventListener('click', (e) => {
            numberOfBoxes = prompt("How many boxes on each side do you want?");
            deleteGrid();
            createGrid(numberOfBoxes);
        })

        buttonContainer.appendChild(button);

        const buttonColour = document.createElement('button');
        buttonColour.classList.add('colour');
        buttonColour.textContent = "Colour";
        buttonColour.addEventListener('click', (e) => {
            colour = true;
        })

        buttonContainer.appendChild(buttonColour);

        const buttonBlack = document.createElement('button');
        buttonBlack.classList.add('black');
        buttonBlack.textContent = "Black";
        buttonBlack.addEventListener('click', (e) => {
            colour = false;
        })
        buttonContainer.appendChild(buttonBlack);


        body.appendChild(buttonContainer);

    </script>
</html>